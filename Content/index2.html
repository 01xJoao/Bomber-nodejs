<!DOCTYPE html>
<html>
<script src="/socket.io/socket.io.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js" type="text/javascript"></script>
<link rel="stylesheet" type="text/css" href="style.css">
<body>

  <div id="mensagens"></div>
  <div style="position: relative; width:100%; min-width:1900px;">
<div style="width: 1200px; height:720px; margin-right: auto; margin-left: auto;">
  <section class="grid">
  			  	<div class="container">

  					<div class="grid-row">
  						<div class="block grids" id="0_0"></div>
  						<div class="block grids" id="0_1"></div>
  						<div class="block grids" id="0_2"></div>
  						<div class="block grids" id="0_3"></div>
  						<div class="block grids" id="0_4"></div>
  						<div class="block grids" id="0_5"></div>
  						<div class="block grids" id="0_6"></div>
  						<div class="block grids" id="0_7"></div>
  						<div class="block grids" id="0_8"></div>
  						<div class="block grids" id="0_9"></div>
  						<div class="block grids" id="0_10"></div>
  					</div>

  					<div class="grid-row">
  						<div class="block grids" id="1_0"></div>
  						<div class="block grids" id="1_1"></div>
  						<div class="block grids" id="1_2"></div>
  						<div class="block grids" id="1_3"></div>
  						<div class="block grids" id="1_4"></div>
  						<div class="block grids" id="1_5"></div>
  						<div class="block grids" id="1_6"></div>
  						<div class="block grids" id="1_7"></div>
  						<div class="block grids" id="1_8"></div>
  						<div class="block grids" id="1_9"></div>
  						<div class="block grids" id="1_10"></div>
  					 </div>

            <div class="grid-row">
  						<div class="block grids" id="2_0"></div>
  						<div class="block grids" id="2_1"></div>
  						<div class="block grids" id="2_2"></div>
  						<div class="block grids" id="2_3"></div> 
  						<div class="block grids" id="2_4"></div>
  						<div class="block grids" id="2_5"></div>
  						<div class="block grids" id="2_6"></div>
  						<div class="block grids" id="2_7"></div>
  						<div class="block grids" id="2_8"></div>
  						<div class="block grids" id="2_9"></div>
  						<div class="block grids" id="2_10"></div>
  					</div>

            <div class="grid-row">
  						<div class="block grids" id="3_0"></div>
  						<div class="block grids" id="3_1"></div>
  						<div class="block grids" id="3_2"></div>
  						<div class="block grids" id="3_3"></div>
  						<div class="block grids" id="3_4"></div>
  						<div class="block grids" id="3_5"></div>
  						<div class="block grids" id="3_6"></div>
  						<div class="block grids" id="3_7"></div>
  						<div class="block grids" id="3_8"></div>
  						<div class="block grids" id="3_9"></div>
  						<div class="block grids" id="3_10"></div>
  					</div>

            <div class="grid-row">
  						<div class="block grids" id="4_0"></div>
  						<div class="block grids" id="4_1"></div>
  						<div class="block grids" id="4_2"></div>
  						<div class="block grids" id="4_3"></div>
  						<div class="block grids" id="4_4"></div>
  						<div class="block grids" id="4_5"></div>
  						<div class="block grids" id="4_6"></div>
  						<div class="block grids" id="4_7"></div>
  						<div class="block grids" id="4_8"></div>
  						<div class="block grids" id="4_9"></div>
  						<div class="block grids" id="4_10"></div>
  					</div>

            <div class="grid-row">
  						<div class="block grids" id="5_0"></div>
  						<div class="block grids" id="5_1"></div>
  						<div class="block grids" id="5_2"></div>
  						<div class="block grids" id="5_3"></div>
  						<div class="block grids" id="5_4"></div>
  						<div class="block grids" id="5_5"></div>
  						<div class="block grids" id="5_6"></div>
  						<div class="block grids" id="5_7"></div>
  						<div class="block grids" id="5_8"></div>
  						<div class="block grids" id="5_9"></div>
  						<div class="block grids" id="5_10"></div>
  					</div>

            <div class="grid-row">
  						<div class="block grids" id="6_0"></div>
  						<div class="block grids" id="6_1"></div>
  						<div class="block grids" id="6_2"></div>
  						<div class="block grids" id="6_3"></div>
  						<div class="block grids" id="6_4"></div>
  						<div class="block grids" id="6_5"></div>
  						<div class="block grids" id="6_6"></div>
  						<div class="block grids" id="6_7"></div>
  						<div class="block grids" id="6_8"></div>
  						<div class="block grids" id="6_9"></div>
  						<div class="block grids" id="6_10"></div>
  					</div>

            <div class="grid-row">
  						<div class="block grids" id="7_0"></div>
  						<div class="block grids" id="7_1"></div>
  						<div class="block grids" id="7_2"></div>
  						<div class="block grids" id="7_3"></div>
  						<div class="block grids" id="7_4"></div>
  						<div class="block grids" id="7_5"></div>
  						<div class="block grids" id="7_6"></div>
  						<div class="block grids" id="7_7"></div>
  						<div class="block grids" id="7_8"></div>
  						<div class="block grids" id="7_9"></div>
  						<div class="block grids" id="7_10"></div>
  					</div>

            <div class="grid-row">
  						<div class="block grids" id="8_0"></div>
  						<div class="block grids" id="8_1"></div>
  						<div class="block grids" id="8_2"></div>
  						<div class="block grids" id="8_3"></div>
  						<div class="block grids" id="8_4"></div>
  						<div class="block grids" id="8_5"></div>
  						<div class="block grids" id="8_6"></div>
  						<div class="block grids" id="8_7"></div>
  						<div class="block grids" id="8_8"></div>
  						<div class="block grids" id="8_9"></div>
  						<div class="block grids" id="8_10"></div>
  					</div>

            <div class="grid-row">
  						<div class="block grids" id="9_0"></div>
  						<div class="block grids" id="9_1"></div>
  						<div class="block grids" id="9_2"></div>
  						<div class="block grids" id="9_3"></div>
  						<div class="block grids" id="9_4"></div>
  						<div class="block grids" id="9_5"></div>
  						<div class="block grids" id="9_6"></div>
  						<div class="block grids" id="9_7"></div>
  						<div class="block grids" id="9_8"></div>
  						<div class="block grids" id="9_9"></div>
  						<div class="block grids" id="9_10"></div>
  					</div>

          	<div class="grid-row">
  						<div class="block grids" id="10_0"></div>
  						<div class="block grids" id="10_1"></div>
  						<div class="block grids" id="10_2"></div>
  						<div class="block grids" id="10_3"></div>
  						<div class="block grids" id="10_4"></div>
  						<div class="block grids" id="10_5"></div>
  						<div class="block grids" id="10_6"></div>
  						<div class="block grids" id="10_7"></div>
  						<div class="block grids" id="10_8"></div>
  						<div class="block grids" id="10_9"></div>
  						<div class="block grids" id="10_10"></div>
  					</div>
      </div>
</section>
<div class="personagem" id="J1">
    <div class="cubo"></div>
</div>
<div class="personagem2" id="J2">
    <div class="cubo2"></div>
</div>
<div class="personagem3" id="J3">
    <div class="cubo3"></div>
</div>
<div class="personagem4" id="J4">
    <div class="cubo4"></div>
</div>
</div>

</div>


<script type="text/javascript">
  $(document).ready(function(button){
	$("#J1").hide();
	$("#J2").hide();
	$("#J3").hide();
	$("#J4").hide();
  });
  var divmsg = document.getElementById('mensagens');
  var socket = io.connect();  //Liga ao node.js por websocket | do outro lado chega uma mensagem chamada connection

socket.on("Begin", function (msg) {	
	StartGame(msg);
});
socket.on("Win", function (msg) {	
	alert("Ganhou o " + msg);
});
socket.on("SetBomba", function (msg) {
	$("#"+msg).html('<img  src="bombasimples.gif" class="bomba" />');
	//$("#"+msg).innerHTML = '<img  src="bombasimples.gif" class="bomba" />';
});
socket.on("RBomba", function (msg) {
	$("#"+msg).html('');
	//$("#"+msg).innerHTML = '<img  src="bombasimples.gif" class="bomba" />';
});
socket.on("mensagem", function (msg) {	
    if( msg.Move == "Cima")
    $('#'+msg.Jogador).animate({
      top: '-=62'
    });

    if( msg.Move == "Baixo")
    $('#'+msg.Jogador).animate({
      top: '+=62'
    }); 

    if( msg.Move == "Esquerda")
    $('#'+msg.Jogador).animate({ 
      left: '-=62'
    });
 
      if( msg.Move == "Direita") 
      $('#'+msg.Jogador).animate({
        left: '+=62'
    });
});
socket.on("Dead", function (msg) {	
	$("#"+msg).hide();
	//alert("Morreu: " + msg);
	});
function Movimento(jogador,msg){

}
function StartGame(msg){
	$("#J1").hide();
	$("#J2").hide();
	$("#J3").hide();
	$("#J4").hide();
	$("#J1").show();
	$("#J2").show();
	if(msg>=3){
		$("#J3").show();
	}
	if(msg>=4){
		$("#J4").show();
	}
}
</script>

</body>
</html>
